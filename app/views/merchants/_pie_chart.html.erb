
<canvas id="pie-chart" height="10vh" width="10vw"></canvas>
<script>
  const qsp_data = <%=  raw chart_data.to_json %>
  const sold = qsp_data.sold
  const unsold = qsp_data.total - qsp_data.sold
  const ctx = document.getElementById("pie-chart").getContext('2d');
  const data = {
    datasets: [{
        data: [sold, unsold],            
        backgroundColor: [
          'rgba(54, 162, 235, 0.2)',
          'rgba(255, 99, 132, 0.2)'
        ],
        borderColor: [
          'rgba(54, 162, 235, 1)',
          'rgba(255,99,132,1)'
        ],
        borderWidth: 1
    }],
    labels: [
        'Sold',
        'Unsold'
    ]
  };

  const myPieChart = new Chart(ctx,{
      type: 'pie',
      data: data
  });
</script>